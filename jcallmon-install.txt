###################################################################################
#                                                                                 #
# Author : jeff.powell@rakuten.com                                                #
#                                                                                 #
# Created : 28/11/2014                                                            #
# Updated : 21/05/2015                                                            #
#                                                                                 #
# Source : https://github.com/jeff-powell-rakuten                                 #
#                                                                                 #
# Install Instructions :                                                          #
# https://github.com/jeff-powell-rakuten/callmon/blob/master/jcallmon-install.txt #
#                                                                                 #
#                                                                                 #
###################################################################################

From a clean minimum centos 6.6 Install ...

install utility packages

	sudo yum install wget unzip net-snmp net-snmp-utils 

install apache and php

	sudo yum install httpd php php-snmp
	service httpd start
	chkconfig httpd on

install rrdtool

	yum install rrdtool rrdtool-php


clone callmon from github

	cd /opt
	wget https://github.com/jeff-powell-rakuten/callmon/archive/master.zip
	unzip /opt/master.zip
	mv /opt/callmon-master/jcallmon /opt/jcallmon
	rm -ry /opt/master.zip /opt/callmon-master



configure

	cd /opt/callmon/jcallmon/data/
	chmod g+x jcallmon-initrrd.sh
	./jcallmon-initrrd.sh
	chmod g+rw calldb.rrd

	vi /opt/jcallmon/jcallmon-poller.php 

		enter the IP and comunity string of the target server

	mv /opt/jcallmon/jcallmon-cron /etc/cron.d/jcallmon-cron
	service crond reload

	cd /opt/jcallmon/www
	touch calls-halfday-wall.png calls-month-wall.png calls-year-wall.png
	chown apache:apache /opt/jcallmon/www/*
	#chmod u+wrx /opt/jcallmon/www
	mv /opt/jcallmon/www/jcallmon-vhost.conf /etc/httpd/conf.d/jcallmon-vhost.conf
	service httpd reload




trouble shoot

	manually run poller 

		php /opt/jcallmon/jcallmon-poller.php





